<!DOCTYPE html><html lang="en"><head>

    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8">

  </head>
  
            }

            for (let i = 0; i < classLabels.length; i++) {
                const classPrediction = classLabels[i] + ": " + result.scores[i].toFixed(2);
//               labelContainer.appendChild(document.createElement("div"));
             
//                 labelContainer.childNodes[labelContainer.childNodes.length-1].innerHTML = classPrediction;
             
                  myMap.push([classLabels[i],result.scores[i].toFixed(2)*100]);
            }
          const phonicsResults = myMap.sort((a, b) => b[1] - a[1]);

          
            let    label = '[';
            for (let i=0; i< 3; i++){
              label = label + `${phonicsResults[i][0]}(${phonicsResults[i][1].toFixed(0)})%, `;
               if (phonicsResults[0][0]  != 'Background Noise') {
                  refinedPhonicsResultsMap.push([phonicsResults[i][0],phonicsResults[i][1]]);
                  //console.log(i + ': ' + refinedPhonicsResultsMap);
               }
            }
            label = label + ']';

          
             if (phonicsResults[0][0]  != 'Background Noise') {
                  result_history = result_history + label + ' ';
            
            }

            //console.log(phonicsResults);
        }, {
            includeSpectrogram: true, // in case listen should return result.spectrogram
            probabilityThreshold: 0.20,
            invokeCallbackOnNoiseAndUnknown: false,
            overlapFactor: 0.9 // probably want between 0.5 and 0.75. More info in README
        });
    
  }
  
  function stopListening(){
    recognizer.stopListening();
  }
</script>
  </body></html>
